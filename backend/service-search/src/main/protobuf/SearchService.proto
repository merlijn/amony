syntax = "proto3";

import "SearchMessages.proto";
import "ResourceMessages.proto";

package nl.amony.service.search.api;

service SearchService {

  rpc deleteBucket(DeleteBucketRequest) returns (DeleteBucketResult) { }

  rpc searchMedia(Query) returns (SearchResult) { }

  rpc indexAll(stream nl.amony.service.resources.api.ResourceInfo) returns (ReIndexResult) { }

  rpc index(nl.amony.service.resources.api.ResourceInfo) returns (ReIndexResult) { }

  rpc forceCommit(ForceCommitRequest) returns (ForceCommitResult) { }
}

message DeleteBucketRequest {
  string bucketId = 1;
}

message DeleteBucketResult {
  bool success = 1;
}

message ForceCommitRequest { }

message ForceCommitResult { }
